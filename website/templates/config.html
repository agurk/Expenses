{% extends "layout.html" %}
{% block title %}Config{% endblock %}
{% block navname %}config{% endblock %}
{% block body %}


<div class="row">
  <div class="col-sm-12"><h2>Configuration</h2></div>
</div>

<div class="row">
	<div class="col-sm-12 link" onclick="$.post('backend/LOAD_RAW')">LOAD RAW</div>
</div>

<div class="row">
	<div class="col-sm-12 link" onclick="$.post('backend/CLASSIFY')">CLASSIFY</div>
</div>

<div class="row">
	<div class="col-sm-12 link" onclick="$.post('backend/IMPORT_SCANS')">Import Scans</div>
</div>

<div class="row">
	<div class="col-sm-12 link" onclick="$.post('backend/PROCESS_SCANS')">Process Scans</div>
</div>

<div class="row">
  <div class="col-sm-12"><h2>Classifications</h2></div>
</div>

{% for row in classifications -%}

<div class="row">
  <div class="col-sm-3">{{ row[1] }}</div>
  <div class="col-sm-3">{{ row[2] }}</div>
  <div class="col-sm-3">{{ row[3] }}</div>
  <div class="col-sm-3">{{ row[4] }}</div>
</div>

{%- endfor %}

<script>
	function newClassification(){
		$.post('backend/SAVE_CLASSIFICATION?cid=-1&description=' + document.getElementById ('classification_desc_new').value
				+ '&validfrom=' + document.getElementById ('classification_validfrom_new').value
				+ '&validto=' + document.getElementById ('classification_validto_new').value
				+ '&isexpense=' + document.getElementById ('classification_isexpense_new').value
)

	}
</script>

<div class="row">
  <div class="col-sm-3"><input id="classification_desc_new" type="text" name="amount" size="10" value="{{ amount }}"></div>
  <div class="col-sm-3"><input id="classification_validfrom_new" type="text" name="amount" size="10" value="{{ amount }}"></div>
  <div class="col-sm-3"><input id="classification_validto_new" type="text" name="amount" size="10" value="{{ amount }}"></div>
  <div class="col-sm-3"><input id="classification_isexpense_new" type="text" name="amount" size="10" value="{{ amount }}"></div>
</div>
<div class="row">
  <div class="col-sm-12 link" onclick="newClassification()">save</div>
</div>

{% endblock %}
